<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>Python on Juiceright</title>
    <link>https://cywd123.github.io/tags/python/</link>
    <description>Recent content in Python on Juiceright</description>
    <generator>Hugo</generator>
    <language>en-us</language>
    <lastBuildDate>Mon, 01 Dec 2025 12:34:29 +0000</lastBuildDate>
    <atom:link href="https://cywd123.github.io/tags/python/index.xml" rel="self" type="application/rss+xml" />
    <item>
      <title>【分子对接】2. 利用pymol下载蛋白质 脚本</title>
      <link>https://cywd123.github.io/posts/ysld_6qj2a/</link>
      <pubDate>Wed, 26 Mar 2025 20:28:24 +0000</pubDate>
      <guid>https://cywd123.github.io/posts/ysld_6qj2a/</guid>
      <description>&lt;p&gt;下载蛋白质，去除水分子，加H，去除配体，去除副链&lt;/p&gt;&#xA;&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;&#xD;&#xA;# %%&#xD;&#xA;import pymol&#xD;&#xA;&#xD;&#xA;# %%&#xD;&#xA;# 使用 fetch 指令获取蛋白质结构，这里以 4FAA 为例&#xD;&#xA;pdb_id = &amp;#39;4FAA&amp;#39;&#xD;&#xA;pymol.cmd.fetch(pdb_id)&#xD;&#xA;&#xD;&#xA;# 去除水分子&#xD;&#xA;pymol.cmd.remove(&amp;#39;solvent&amp;#39;)&#xD;&#xA;&#xD;&#xA;# 加 H（氢原子）&#xD;&#xA;pymol.cmd.h_add()&#xD;&#xA;&#xD;&#xA;# 选择配体（这里假设配体残基名为 NAG）&#xD;&#xA;pymol.cmd.select(&amp;#39;ligand&amp;#39;, &amp;#39;resn NAG&amp;#39;)&#xD;&#xA;&#xD;&#xA;# 去除配体&#xD;&#xA;pymol.cmd.remove(&amp;#39;ligand&amp;#39;)&#xD;&#xA;&#xD;&#xA;# 显示链 A 的信息&#xD;&#xA;pymol.cmd.iterate(&amp;#39;chain A&amp;#39;, &amp;#39;print(resi, resn)&amp;#39;)&#xD;&#xA;&#xD;&#xA;# 去除副链（只保留主链）&#xD;&#xA;pymol.cmd.remove(&amp;#39;sidechain&amp;#39;)&#xD;&#xA;&#xD;&#xA;# 导出结果为 PDB 文件&#xD;&#xA;output_file = f&amp;#39;{pdb_id}.pymol.pdb&amp;#39;&#xD;&#xA;pymol.cmd.save(output_file)&#xD;&#xA;&#xD;&#xA;# 退出 PyMOL&#xD;&#xA;pymol.cmd.quit()&#xA;&lt;/code&gt;&lt;/pre&gt;</description>
    </item>
    <item>
      <title>问卷星自动填写脚本</title>
      <link>https://cywd123.github.io/posts/trgcxiotbs/</link>
      <pubDate>Sun, 23 Mar 2025 18:17:36 +0000</pubDate>
      <guid>https://cywd123.github.io/posts/trgcxiotbs/</guid>
      <description>&lt;p&gt;2025年3月23日测试批量填写80份正常。&lt;/p&gt;&#xA;&lt;p&gt;需要模拟鼠标操作防止被识别机器人&lt;/p&gt;&#xA;&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;import re&#xD;&#xA;from playwright.async_api import Playwright, async_playwright&#xD;&#xA;#from playwright.sync_api import Playwright, sync_playwright, expect&#xD;&#xA;import random&#xD;&#xA;&#xD;&#xA;import asyncio&#xD;&#xA;import time&#xD;&#xA;def random_int(min=2, max=4):&#xD;&#xA;    random.seed(time.time())    &#xD;&#xA;    return str(random.randint(min, max))&#xD;&#xA;&#xD;&#xA;async def mouse_random_move(page):&#xD;&#xA;    # 模拟鼠标随机平滑移动&#xD;&#xA;    for i in range(5):&#xD;&#xA;        await page.mouse.move(random.randint(0, 1000), random.randint(0, 1000))&#xD;&#xA;        await asyncio.sleep(0.1)&#xD;&#xA;    # 模拟鼠标随机停留&#xD;&#xA;    #time.sleep(random.randint(0,1))&#xD;&#xA;    # 鼠标滚轮&#xD;&#xA;&#xD;&#xA;async def run(browser) -&amp;gt; None:&#xD;&#xA;    &#xD;&#xA;    context = await browser.new_context()&#xD;&#xA;    page = await context.new_page()&#xD;&#xA;    await page.goto(&amp;#34;https://www.wjx.cn/vm/Q0x3Wuq.aspx&amp;#34;)&#xD;&#xA;    await page.get_by_text(&amp;#34;男&amp;#34;).click()&#xD;&#xA;    await page.get_by_text(&amp;#34;大三&amp;#34;).click()&#xD;&#xA;    await page.get_by_text(&amp;#34;1000-&amp;#34;).click()&#xD;&#xA;    await page.locator(&amp;#34;div&amp;#34;).filter(has_text=re.compile(r&amp;#34;^全部来自家庭部分来自家庭，部分靠自己赚取全部靠自己赚取$&amp;#34;)).get_by_role(&amp;#34;link&amp;#34;).nth(1).click()&#xD;&#xA;    await mouse_random_move(page)&#xD;&#xA;    await page.locator(&amp;#34;div&amp;#34;).filter(has_text=re.compile(r&amp;#34;^300以下300-600600-10001000以上$&amp;#34;)).get_by_role(&amp;#34;link&amp;#34;).nth(1).click()&#xD;&#xA;    await mouse_random_move(page)&#xD;&#xA;    await page.locator(&amp;#34;div&amp;#34;).filter(has_text=re.compile(r&amp;#34;^无1-200200-500500以上$&amp;#34;)).get_by_role(&amp;#34;link&amp;#34;).nth(2).click()&#xD;&#xA;    await mouse_random_move(page)&#xD;&#xA;    await page.locator(&amp;#34;div&amp;#34;).filter(has_text=re.compile(r&amp;#34;^实体店网购$&amp;#34;)).get_by_role(&amp;#34;link&amp;#34;).first.click()&#xD;&#xA;    await page.locator(&amp;#34;div&amp;#34;).filter(has_text=re.compile(r&amp;#34;^100以下100-500500-10001000以上$&amp;#34;)).get_by_role(&amp;#34;link&amp;#34;).nth(3).click()&#xD;&#xA;    await mouse_random_move(page)&#xD;&#xA;    await page.locator(&amp;#34;div&amp;#34;).filter(has_text=re.compile(r&amp;#34;^无200以下200-500500-10001000以上$&amp;#34;)).get_by_role(&amp;#34;link&amp;#34;).nth(2).click()&#xD;&#xA;    await page.locator(&amp;#34;#div10&amp;#34;).get_by_role(&amp;#34;link&amp;#34;).nth(2).click()&#xD;&#xA;    await mouse_random_move(page)&#xD;&#xA;    await page.locator(&amp;#34;#div11&amp;#34;).get_by_role(&amp;#34;link&amp;#34;).nth(1).click()&#xD;&#xA;    await mouse_random_move(page)&#xD;&#xA;    await page.locator(&amp;#34;#div12&amp;#34;).get_by_role(&amp;#34;link&amp;#34;).first.click()&#xD;&#xA;    await mouse_random_move(page)&#xD;&#xA;    await page.locator(&amp;#34;#div13&amp;#34;).get_by_role(&amp;#34;link&amp;#34;).nth(1).click()&#xD;&#xA;    await mouse_random_move(page)&#xD;&#xA;    await page.locator(&amp;#34;#div14&amp;#34;).get_by_role(&amp;#34;link&amp;#34;).nth(2).click()&#xD;&#xA;    await mouse_random_move(page)&#xD;&#xA;    await page.locator(&amp;#34;#div15&amp;#34;).get_by_role(&amp;#34;link&amp;#34;).nth(1).click()&#xD;&#xA;    await mouse_random_move(page)&#xD;&#xA;    await page.locator(&amp;#34;#div16&amp;#34;).get_by_role(&amp;#34;link&amp;#34;).nth(2).click()&#xD;&#xA;    await mouse_random_move(page)&#xD;&#xA;    await page.locator(&amp;#34;#div17&amp;#34;).get_by_role(&amp;#34;link&amp;#34;).nth(1).click()&#xD;&#xA;    await mouse_random_move(page)&#xD;&#xA;    await page.locator(&amp;#34;div:nth-child(2) &amp;gt; .jqcheckwrapper &amp;gt; .jqcheck&amp;#34;).first.click()&#xD;&#xA;    await mouse_random_move(page)&#xD;&#xA;    await page.locator(&amp;#34;div:nth-child(5) &amp;gt; .jqcheckwrapper &amp;gt; .jqcheck&amp;#34;).first.click()&#xD;&#xA;    await mouse_random_move(page)&#xD;&#xA;    await page.locator(&amp;#34;div:nth-child(7) &amp;gt; .jqcheckwrapper &amp;gt; .jqcheck&amp;#34;).click()&#xD;&#xA;    await mouse_random_move(page)&#xD;&#xA;    await page.locator(&amp;#34;#div19&amp;#34;).get_by_role(&amp;#34;link&amp;#34;).nth(3).click()&#xD;&#xA;    await mouse_random_move(page)&#xD;&#xA;    await page.locator(&amp;#34;#div20&amp;#34;).get_by_role(&amp;#34;link&amp;#34;).nth(1).click()&#xD;&#xA;    await mouse_random_move(page)&#xD;&#xA;    await page.locator(&amp;#34;#div20&amp;#34;).get_by_role(&amp;#34;link&amp;#34;).first.click()&#xD;&#xA;    await mouse_random_move(page)&#xD;&#xA;    await page.locator(&amp;#34;#div21 &amp;gt; .ui-controlgroup &amp;gt; div:nth-child(2) &amp;gt; .jqcheckwrapper &amp;gt; .jqcheck&amp;#34;).click()&#xD;&#xA;    await mouse_random_move(page)&#xD;&#xA;    await page.locator(&amp;#34;#div21 &amp;gt; .ui-controlgroup &amp;gt; div:nth-child(4) &amp;gt; .jqcheckwrapper &amp;gt; .jqcheck&amp;#34;).click()&#xD;&#xA;    await page.get_by_text(&amp;#34;提交&amp;#34;).click()&#xD;&#xA;    await page.wait_for_function(&amp;#34;window.location.href !== &amp;#39;https://www.wjx.cn/vm/Q0x3Wuq.aspx&amp;#39;&amp;#34;)&#xD;&#xA;    await page.wait_for_timeout(3000)&#xD;&#xA;    await page.close()&#xD;&#xA;    await context.close()&#xD;&#xA;&#xD;&#xA;async def main() -&amp;gt; None:&#xD;&#xA;    async with async_playwright() as p:&#xD;&#xA;        browser = await  p.chromium.launch(headless=True)&#xD;&#xA;        tasks = []&#xD;&#xA;        for i in range(6):&#xD;&#xA;            tasks.append(run(browser))&#xD;&#xA;        titles=await asyncio.gather(*tasks)&#xD;&#xA;        for title in titles:  &#xD;&#xA;            print(title) &#xD;&#xA;        await browser.close()&#xD;&#xA;        &#xD;&#xA;if __name__ == &amp;#34;__main__&amp;#34;:&#xD;&#xA;    asyncio.run(main())&#xA;&lt;/code&gt;&lt;/pre&gt;</description>
    </item>
    <item>
      <title>python 利用curl将全部网卡适配器登录STU校园网</title>
      <link>https://cywd123.github.io/posts/byprsldhih/</link>
      <pubDate>Fri, 14 Mar 2025 20:49:01 +0000</pubDate>
      <guid>https://cywd123.github.io/posts/byprsldhih/</guid>
      <description>&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;import netifaces&#xA;import os&#xA;# 获取所有网络接口&#xA;interfaces = netifaces.interfaces()&#xA;&#xA;for iface in interfaces:&#xA;    # 获取接口的地址信息&#xA;    addresses = netifaces.ifaddresses(iface)&#xA;    # 提取 IPv4 地址&#xA;    if netifaces.AF_INET in addresses:&#xA;        for addr_info in addresses[netifaces.AF_INET]:&#xA;            ip = addr_info.get(&amp;#39;addr&amp;#39;)&#xA;            if ip:&#xA;                print(f&amp;#34;适配器 {iface} 的IP地址: {ip}&amp;#34;)&#xA;                os.system(&amp;#39;curl --data &amp;#34;opr=pwdLogin&amp;amp;userName=账号&amp;amp;pwd=密码&amp;amp;rememberPwd=1&amp;#34; http://1.1.1.2/ac_portal/login.php  --interface &amp;#39; + ip)&#xA;&lt;/code&gt;&lt;/pre&gt;</description>
    </item>
    <item>
      <title>playwright自动登录STU WebVPN</title>
      <link>https://cywd123.github.io/posts/st6eftek36/</link>
      <pubDate>Tue, 11 Mar 2025 09:55:00 +0000</pubDate>
      <guid>https://cywd123.github.io/posts/st6eftek36/</guid>
      <description>&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;&#xD;&#xA;import re&#xD;&#xA;from playwright.sync_api import Playwright, sync_playwright, expect&#xD;&#xA;import time&#xD;&#xA;import os&#xD;&#xA;&#xD;&#xA;import hmac&#xD;&#xA;import hashlib&#xD;&#xA;&#xD;&#xA;def totp(key, t, digits=6):&#xD;&#xA;    step = 30&#xD;&#xA;    t = int(t / step)&#xD;&#xA;    key = key.encode()&#xD;&#xA;    counter = t.to_bytes(8, &amp;#39;big&amp;#39;)&#xD;&#xA;    h = hmac.new(key, counter, hashlib.sha1).digest()&#xD;&#xA;    offset = h[-1] &amp;amp; 0x0f&#xD;&#xA;    truncated = h[offset:offset + 4]&#xD;&#xA;    code = int.from_bytes(truncated, &amp;#39;big&amp;#39;) &amp;amp; 0x7fffffff&#xD;&#xA;    code = str(code % 10 ** digits).zfill(digits)&#xD;&#xA;    return code&#xD;&#xA;&#xD;&#xA;# %%&#xD;&#xA;&#xD;&#xA;&#xD;&#xA;def run(playwright: Playwright) -&amp;gt; None:&#xD;&#xA;    browser = playwright.chromium.launch(headless=True)&#xD;&#xA;    context = browser.new_context()&#xD;&#xA;    page = context.new_page()&#xD;&#xA;    page.goto(&amp;#34;https://webvpn.stu.edu.cn/portal/#!/login&amp;#34;)&#xD;&#xA;    page.locator(&amp;#34;#Calc input[type=\&amp;#34;text\&amp;#34;]&amp;#34;).fill(&amp;#34;校园网账号&amp;#34;)&#xD;&#xA;    page.locator(&amp;#34;#loginPwd&amp;#34;).click()&#xD;&#xA;    page.locator(&amp;#34;#loginPwd&amp;#34;).fill(&amp;#34;校园网密码&amp;#34;)&#xD;&#xA;    page.locator(&amp;#34;span&amp;#34;).filter(has_text=&amp;#34;我已阅读并同意&amp;#34;).locator(&amp;#34;div&amp;#34;).first.click()&#xD;&#xA;    page.get_by_role(&amp;#34;button&amp;#34;, name=&amp;#34;登录&amp;#34;).click()&#xD;&#xA;    page.locator(&amp;#34;#app_dialog_container&amp;#34;).get_by_role(&amp;#34;textbox&amp;#34;).fill(str(totp(&amp;#34;填写你的TOTP密钥&amp;#34;, time.time())))&#xD;&#xA;    page.get_by_role(&amp;#34;button&amp;#34;, name=&amp;#34;确定&amp;#34;).click()&#xD;&#xA;    # ---------------------&#xD;&#xA;    # 获取cookie值&#xD;&#xA;    cookies = page.context.cookies()&#xD;&#xA;    for cookie in cookies:&#xD;&#xA;        print(f&amp;#34;{cookie[&amp;#39;name&amp;#39;]}: {cookie[&amp;#39;value&amp;#39;]}&amp;#34;)&#xD;&#xA;        if cookie[&amp;#39;name&amp;#39;] == &amp;#34;TWFID&amp;#34;:&#xD;&#xA;            TWFID = cookie[&amp;#39;value&amp;#39;]&#xD;&#xA;    &#xD;&#xA;    &#xD;&#xA;    url=&amp;#34;https://webvpn.stu.edu.cn/portal/shortcut.html?twfid=&amp;#34;+TWFID+&amp;#34;&amp;amp;url=http://bilibili-com-s.webvpn.stu.edu.cn%3A8118&amp;#34;&#xD;&#xA;    os.system(&amp;#39;start msedge &amp;#34;&amp;#39;+url+&amp;#39;&amp;#34;&amp;#39;)&#xD;&#xA;    # ---------------------&#xD;&#xA;    context.close()&#xD;&#xA;    browser.close()&#xD;&#xA;&#xD;&#xA;&#xD;&#xA;with sync_playwright() as playwright:&#xD;&#xA;    run(playwright)&#xD;&#xA;&#xD;&#xA;    &#xA;&lt;/code&gt;&lt;/pre&gt;</description>
    </item>
    <item>
      <title>ECDSA实例</title>
      <link>https://cywd123.github.io/posts/22bskm0nwq/</link>
      <pubDate>Tue, 11 Mar 2025 01:05:02 +0000</pubDate>
      <guid>https://cywd123.github.io/posts/22bskm0nwq/</guid>
      <description>&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;&#xA;import os&#xA;import ecdsa&#xA;&#xA;# 生成私钥和公钥&#xA;def generate_keys():&#xA;    # 使用secp256k1曲线生成密钥对&#xA;    sk = ecdsa.SigningKey.generate(curve=ecdsa.SECP256k1)&#xA;    vk = sk.get_verifying_key()&#xA;    return sk, vk&#xA;&#xA;# 对消息进行签名&#xA;def sign_message(private_key, message):&#xA;    return private_key.sign(message)&#xA;&#xA;# 验证签名&#xA;def verify_signature(public_key, message, signature):&#xA;    return public_key.verify(signature, message)&#xA;&#xA;# %%&#xA;private_key, public_key = generate_keys()&#xA;# 简单消息&#xA;message = b&amp;#34;Hello, ECDSA!&amp;#34;&#xA;&#xA;# 签名消息&#xA;signature = sign_message(private_key, message)&#xA;print(f&amp;#34;Signature: {signature.hex()}&amp;#34;)&#xA;&#xA;&#xA;# %% &#xA;sig=&amp;#39;adee313bebf78c1bd4a9719e0ad9aa871ff8195788ad2d7510f35e1ef0ce00a6cbfea518e4ea1716a729c7313a52da8b0c57ff0e0f97251ea604beef3890f699&amp;#39;&#xA;message = b&amp;#34;Hello, ECDSA!&amp;#34;&#xA;signature = bytes.fromhex(sig)&#xA;print(verify_signature(public_key, message, signature))   #验证签名&#xA;&lt;/code&gt;&lt;/pre&gt;</description>
    </item>
    <item>
      <title>汕头大学SSO 单点登录接入实例</title>
      <link>https://cywd123.github.io/posts/40qvh8raw6/</link>
      <pubDate>Tue, 11 Mar 2025 01:00:18 +0000</pubDate>
      <guid>https://cywd123.github.io/posts/40qvh8raw6/</guid>
      <description>&lt;p&gt;Single Sign On System&lt;/p&gt;&#xA;&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;import os&#xA;url=&amp;#34;https://sso.stu.edu.cn/login?service=http://localhost:8080&amp;#34;&#xA;os.system(&amp;#39;start msedge &amp;#34;&amp;#39;+url+&amp;#39;&amp;#34;&amp;#39;)&#xA;&#xA;import http.server&#xA;import socketserver&#xA;import urllib.parse&#xA;import threading&#xA;import requests&#xA;import xml.etree.ElementTree as ET&#xA;import warnings&#xA;warnings.filterwarnings(&amp;#34;ignore&amp;#34;)&#xA;&#xA;# 定义全局变量存储ticket&#xA;ticket = None&#xA;username = None&#xA;# 自定义请求处理类&#xA;class MyHandler(http.server.SimpleHTTPRequestHandler):&#xA;    def log_message(self, format, *args):&#xA;        pass  # 重写方法，不执行任何操作&#xA;&#xA;    def do_GET(self):&#xA;        global ticket, httpd, username&#xA;        # 解析请求路径的参数&#xA;        parsed_path = urllib.parse.urlparse(self.path)&#xA;        query_params = urllib.parse.parse_qs(parsed_path.query)&#xA;        &#xA;        # 检查是否存在ticket参数&#xA;        if &amp;#39;ticket&amp;#39; in query_params:&#xA;            ticket = query_params[&amp;#39;ticket&amp;#39;][0]&#xA;        &#xA;        # 发送响应&#xA;        self.send_response(200)&#xA;        self.end_headers()&#xA;        self.wfile.write(b&amp;#34;Ticket received...&amp;#34;)&#xA;        vurl=&amp;#34;https://sso.stu.edu.cn/serviceValidate?service=http://localhost:8080&amp;amp;ticket=&amp;#34;+ticket&#xA;        headers={&amp;#39;Connection&amp;#39;:&amp;#39;close&amp;#39;}&#xA;        requests.adapters.DEFAULT_RETRIES = 5&#xA;        response = requests.get(vurl, headers=headers, verify=False)&#xA;        root = ET.fromstring(response.text)&#xA;        if root[0].tag.endswith(&amp;#39;authenticationSuccess&amp;#39;):&#xA;            print(&amp;#39;Login success, you can close the browser now 登陆成功，您可以关闭浏览器了&amp;#39;)&#xA;            print(&amp;#39;username:&amp;#39;, root[0][0].text)&#xA;            username = root[0][0].text&#xA;            response.close()&#xA;            threading.Thread(target=httpd.shutdown).start()&#xA;        else:&#xA;            print(&amp;#39;Login failed, please try again 登陆失败，请重试&amp;#39;)&#xA;            print(&amp;#39;error:&amp;#39;, root[0][0].text)&#xA;        # 关闭服务器&#xA;# 启动服务器&#xA;def run_server():&#xA;    global httpd&#xA;    port = 8080&#xA;    handler = MyHandler&#xA;    with socketserver.TCPServer((&amp;#34;&amp;#34;, port), handler) as httpd:&#xA;        print(f&amp;#34;Verifying login at https://sso.stu.edu.cn/login?service=http://localhost:8080&amp;#34;)&#xA;        httpd.serve_forever()&#xA;run_server()&#xA;&#xA;&#xA;Users =[&amp;#39;用户名&amp;#39;]&#xA;&#xA;if username in Users:&#xA;    print(&amp;#39;Login success, welcome to use this script 登陆成功，欢迎使用本脚本&amp;#39;)&#xA;else:&#xA;    print(&amp;#39;No permission to use this script 没有权限使用本脚本&amp;#39;)&#xA;    os.system(&amp;#39;pause&amp;#39;)&#xA;    exit()&#xA;&lt;/code&gt;&lt;/pre&gt;</description>
    </item>
    <item>
      <title>雨课堂习题监控</title>
      <link>https://cywd123.github.io/posts/pbdbfbga9g/</link>
      <pubDate>Tue, 11 Mar 2025 00:41:06 +0000</pubDate>
      <guid>https://cywd123.github.io/posts/pbdbfbga9g/</guid>
      <description>&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;原理：雨课堂每次切换PPT时url也会跟着改变。在检测到ppt切换后，获取ppt的图片，并且进行OCR检测，如果出现‘单选’、‘多选’、‘判断’、‘填空’、‘投票’等词汇，就认定该ppt是习题，就会发出警告提醒。&#xA;&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;使用前需要配置state.json保存登录记录。&lt;/p&gt;&#xA;&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;import asyncio&#xD;&#xA;from playwright.async_api import async_playwright&#xD;&#xA;import requests&#xD;&#xA;import threading&#xD;&#xA;import winsound&#xD;&#xA;from plyer import notification&#xD;&#xA;import easyocr&#xD;&#xA;url=&amp;#34;&amp;#34;&#xD;&#xA;# 初始化 EasyOCR&#xD;&#xA;reader = easyocr.Reader([&amp;#39;ch_sim&amp;#39;, &amp;#39;en&amp;#39;])&#xD;&#xA;&#xD;&#xA;async def notice_ti(page):&#xD;&#xA;    # 尝试查找图片元素&#xD;&#xA;    elementimg = await page.query_selector_all(&amp;#39;//*[@id=&amp;#34;app&amp;#34;]/section/section[1]/section[2]/section/section/section/section[1]/section/div/section/section/img&amp;#39;)&#xD;&#xA;    if len(elementimg) == 0:&#xD;&#xA;        elementimg = await page.query_selector_all(&amp;#39;//*[@id=&amp;#34;app&amp;#34;]/section/section[1]/section[2]/section/section/section/section[1]/section/section/section/section/img&amp;#39;)&#xD;&#xA;&#xD;&#xA;    # 发送新页面通知&#xD;&#xA;    notification.notify(title=&amp;#39;新的一页&amp;#39;, message=&amp;#39;新的一页&amp;#39;, app_icon=None, timeout=0.5)&#xD;&#xA;&#xD;&#xA;    if elementimg:&#xD;&#xA;        # 获取图片地址&#xD;&#xA;        img_url = await elementimg[0].get_attribute(&amp;#39;src&amp;#39;)&#xD;&#xA;        # 直接下载图片&#xD;&#xA;        tmp = requests.get(img_url)&#xD;&#xA;        with open(&amp;#39;tmp.png&amp;#39;, &amp;#39;wb&amp;#39;) as f:&#xD;&#xA;            f.write(tmp.content)&#xD;&#xA;&#xD;&#xA;        # 使用 EasyOCR 识别图片文字&#xD;&#xA;        result = reader.readtext(&amp;#39;tmp.png&amp;#39;)&#xD;&#xA;        # 如果 result 中含有‘单选’、‘多选’、‘判断’、‘填空’、‘投票’、‘问答’、‘作业’、‘讨论’、‘实验’、‘课件’、‘课程’、‘提交’等关键词，就发送通知&#xD;&#xA;        keywords = [&amp;#39;单选&amp;#39;, &amp;#39;多选&amp;#39;, &amp;#39;判断&amp;#39;, &amp;#39;填空&amp;#39;, &amp;#39;投票&amp;#39;, &amp;#39;问答&amp;#39;, &amp;#39;作业&amp;#39;, &amp;#39;讨论&amp;#39;, &amp;#39;实验&amp;#39;, &amp;#39;提交&amp;#39;]&#xD;&#xA;        #keywords = [&amp;#39;电解&amp;#39;]&#xD;&#xA;        if any(x in str(result) for x in keywords):&#xD;&#xA;            print(img_url)&#xD;&#xA;            threading.Thread(target=lambda: winsound.Beep(440, 3000)).start()&#xD;&#xA;            notification.notify(title=&amp;#39;有题！&amp;#39;, message=&amp;#39;有题！&amp;#39;, app_icon=None, timeout=0.5)&#xD;&#xA;            # ai(result)&#xD;&#xA;            # clear_page()&#xD;&#xA;&#xD;&#xA;async def main():&#xD;&#xA;    async with async_playwright() as p:&#xD;&#xA;        # 配置浏览器选项&#xD;&#xA;        browser = await p.chromium.launch(headless=True)&#xD;&#xA;        context = await browser.new_context(storage_state=&amp;#39;state.json&amp;#39;)&#xD;&#xA;        page = await context.new_page()&#xD;&#xA;        # 打开指定页面&#xD;&#xA;        await page.goto(url)&#xD;&#xA;&#xD;&#xA;        current_url = page.url&#xD;&#xA;        while True:&#xD;&#xA;            # 等待 URL 变化&#xD;&#xA;            await page.wait_for_url(lambda url: url != current_url, timeout=10000000)&#xD;&#xA;            current_url = page.url&#xD;&#xA;            await notice_ti(page)&#xD;&#xA;            #await print(&amp;#34;已到达新页面&amp;#34;)&#xD;&#xA;&#xD;&#xA;if __name__ == &amp;#34;__main__&amp;#34;:&#xD;&#xA;    url=input(&amp;#34;请输入网址：&amp;#34;)&#xD;&#xA;    asyncio.run(main())&#xA;&lt;/code&gt;&lt;/pre&gt;</description>
    </item>
  </channel>
</rss>
